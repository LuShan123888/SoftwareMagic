

<!DOCTYPE html>
<html lang="zh-CN" data-default-color-scheme=auto>



<head>
  <meta charset="UTF-8">
  <link rel="apple-touch-icon" sizes="76x76" href="https://cdn.jsdelivr.net/gh/LuShan123888/SoftwareMagic@gh-pages/images/logo.png">
  <link rel="icon" href="https://cdn.jsdelivr.net/gh/LuShan123888/SoftwareMagic@gh-pages/images/logo.png">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0, shrink-to-fit=no">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  
  <meta name="theme-color" content="#2f4154">
  <meta name="description" content="">
  <meta name="author" content="Cian">
  <meta name="keywords" content="software computer programmer otes Cloud personal">
  <meta name="description" content="PHP 处理和查找字符串 PHP有许多函数用于操作字符串,查找和修改字符串最常用的函数是用正则表达式来描述字符串的函数,本节介绍的函数没有使用正则表达式,它们比正则表达式快,但是它们只能用于查找确定的字符串(例如,你在查找12&#x2F;11&#x2F;01,而不是任何用斜杠分隔的数字) 子串  你想知道在一个较大字符串中你感兴趣的数据的位置,可以使用substr()函数把它复制出来:  1$piece &#x3D; subs">
<meta property="og:type" content="article">
<meta property="og:title" content="SoftwareMagic">
<meta property="og:url" content="https://softwaremagic.lushan.tech/Software/Language/PHP/%E5%AD%97%E7%AC%A6%E4%B8%B2/%E5%A4%84%E7%90%86%E5%92%8C%E6%9F%A5%E6%89%BE%E5%AD%97%E7%AC%A6%E4%B8%B2/">
<meta property="og:site_name" content="SoftwareMagic">
<meta property="og:description" content="PHP 处理和查找字符串 PHP有许多函数用于操作字符串,查找和修改字符串最常用的函数是用正则表达式来描述字符串的函数,本节介绍的函数没有使用正则表达式,它们比正则表达式快,但是它们只能用于查找确定的字符串(例如,你在查找12&#x2F;11&#x2F;01,而不是任何用斜杠分隔的数字) 子串  你想知道在一个较大字符串中你感兴趣的数据的位置,可以使用substr()函数把它复制出来:  1$piece &#x3D; subs">
<meta property="og:locale" content="zh_CN">
<meta property="article:published_time" content="2021-02-21T04:31:34.000Z">
<meta property="article:modified_time" content="2021-02-21T04:31:34.000Z">
<meta property="article:author" content="Cian">
<meta property="article:tag" content="software computer programmer otes Cloud personal">
<meta name="twitter:card" content="summary_large_image">
  
  <title>SoftwareMagic</title>

  <link  rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4/dist/css/bootstrap.min.css" />


  <link  rel="stylesheet" href="https://cdn.jsdelivr.net/npm/github-markdown-css@4/github-markdown.min.css" />
  <link  rel="stylesheet" href="/lib/hint/hint.min.css" />

  
    
    
      
      <link  rel="stylesheet" href="https://cdn.jsdelivr.net/npm/highlight.js@10/styles/github-gist.min.css" />
    
  

  
    <link  rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@3/dist/jquery.fancybox.min.css" />
  


<!-- 主题依赖的图标库，不要自行修改 -->

<link rel="stylesheet" href="//at.alicdn.com/t/font_1749284_ba1fz6golrf.css">



<link rel="stylesheet" href="//at.alicdn.com/t/font_1736178_kmeydafke9r.css">


<link  rel="stylesheet" href="https://cdn.jsdelivr.net/gh/LuShan123888/SoftwareMagic@gh-pages/css/main.css" />

<!-- 自定义样式保持在最底部 -->


  <script id="fluid-configs">
    var Fluid = window.Fluid || {};
    var CONFIG = {"hostname":"softwaremagic.lushan.tech","root":"/","version":"1.8.12","typing":{"enable":true,"typeSpeed":70,"cursorChar":"_","loop":false},"anchorjs":{"enable":true,"element":"h1,h2,h3,h4,h5,h6","placement":"right","visible":"hover","icon":""},"progressbar":{"enable":true,"height_px":3,"color":"#29d","options":{"showSpinner":false,"trickleSpeed":100}},"copy_btn":true,"image_zoom":{"enable":true,"img_url_replace":["",""]},"toc":{"enable":true,"headingSelector":"h1,h2,h3,h4,h5,h6","collapseDepth":0},"lazyload":{"enable":true,"loading_img":"/images/loading.gif","onlypost":false,"offset_factor":2},"web_analytics":{"enable":false,"baidu":null,"google":null,"gtag":null,"tencent":{"sid":null,"cid":null},"woyaola":null,"cnzz":null,"leancloud":{"app_id":null,"app_key":null,"server_url":null,"path":"window.location.pathname"}},"search_path":"https://cdn.jsdelivr.net/gh/LuShan123888/SoftwareMagic@gh-pages/local-search.xml"};
  </script>
  <script  src="https://cdn.jsdelivr.net/gh/LuShan123888/SoftwareMagic@gh-pages/js/utils.js" ></script>
  <script  src="https://cdn.jsdelivr.net/gh/LuShan123888/SoftwareMagic@gh-pages/js/color-schema.js" ></script>
<meta name="generator" content="Hexo 5.4.0"></head>


<body>
  <header style="height: 50vh;">
    <nav id="navbar" class="navbar fixed-top  navbar-expand-lg navbar-dark scrolling-navbar">
  <div class="container">
    <a class="navbar-brand" href="/">
      <strong>SoftwareMagic</strong>
    </a>

    <button id="navbar-toggler-btn" class="navbar-toggler" type="button" data-toggle="collapse"
            data-target="#navbarSupportedContent"
            aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
      <div class="animated-icon"><span></span><span></span><span></span></div>
    </button>

    <!-- Collapsible content -->
    <div class="collapse navbar-collapse" id="navbarSupportedContent">
      <ul class="navbar-nav ml-auto text-center">
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/">
                <i class="iconfont icon-home-fill"></i>
                首页
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/categories/">
                <i class="iconfont icon-category-fill"></i>
                分类
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/archives/">
                <i class="iconfont icon-archive-fill"></i>
                归档
              </a>
            </li>
          
        
        
          <li class="nav-item" id="search-btn">
            <a class="nav-link" target="_self" href="javascript:;" data-toggle="modal" data-target="#modalSearch" aria-label="Search">
              &nbsp;<i class="iconfont icon-search"></i>&nbsp;
            </a>
          </li>
        
        
          <li class="nav-item" id="color-toggle-btn">
            <a class="nav-link" target="_self" href="javascript:;" aria-label="Color Toggle">&nbsp;<i
                class="iconfont icon-dark" id="color-toggle-icon"></i>&nbsp;</a>
          </li>
        
      </ul>
    </div>
  </div>
</nav>

    <div class="banner" id="banner" parallax=true
         style="background: url('https://cdn.jsdelivr.net/gh/LuShan123888/SoftwareMagic@gh-pages/images/background.jpg') no-repeat center center;
           background-size: cover;">
      <div class="full-bg-img">
        <div class="mask flex-center" style="background-color: rgba(0, 0, 0, 0)">
          <div class="page-header text-center fade-in-up">
            <span class="h2" id="subtitle" title="">
              
            </span>

            
              <div class="mt-3">
  
  
    <span class="post-meta">
      <i class="iconfont icon-date-fill" aria-hidden="true"></i>
      <time datetime="2021-02-21 12:31" pubdate>
        2021年2月21日 下午
      </time>
    </span>
  
</div>

<div class="mt-1">
  
    <span class="post-meta mr-2">
      <i class="iconfont icon-chart"></i>
      7.1k 字
    </span>
  

  
    <span class="post-meta mr-2">
      <i class="iconfont icon-clock-fill"></i>
      
      
      22 分钟
    </span>
  

  
  
</div>

            
          </div>

          
        </div>
      </div>
    </div>
  </header>

  <main>
    
      

<div class="container-fluid nopadding-x">
  <div class="row nomargin-x">
    <div class="d-none d-lg-block col-lg-2"></div>
    <div class="col-lg-8 nopadding-x-md">
      <div class="container nopadding-x-md" id="board-ctn">
        <div class="py-5" id="board">
          <article class="post-content mx-auto">
            <!-- SEO header -->
            <h1 style="display: none"></h1>
            
            <div class="markdown-body">
              <h1>PHP 处理和查找字符串</h1>
<p>PHP有许多函数用于操作字符串,查找和修改字符串最常用的函数是用正则表达式来描述字符串的函数,本节介绍的函数没有使用正则表达式,它们比正则表达式快,但是它们只能用于查找确定的字符串(例如,你在查找<code>12/11/01</code>,而不是<strong>任何用斜杠分隔的数字</strong>)</p>
<h2 id="子串">子串</h2>
<ul>
<li>你想知道在一个较大字符串中你感兴趣的数据的位置,可以使用<code>substr()</code>函数把它复制出来:</li>
</ul>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs php"><span class="hljs-variable">$piece</span> = substr(<span class="hljs-keyword">string</span>,start [, length]);<br></code></pre></td></tr></table></figure>
<ul>
<li>start参数是在string中要开始复制的位置,如果是0的话,就是说从字符串开头开始复制,length参数是要复制字符的个数(默认是复制到字符串末尾),例如:</li>
</ul>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs php"><span class="hljs-variable">$name</span> = <span class="hljs-string">&quot;Fred Flintstone&quot;</span>;<br><span class="hljs-variable">$fluff</span> = substr(<span class="hljs-variable">$name</span>,<span class="hljs-number">6</span>,<span class="hljs-number">4</span>);	<span class="hljs-comment">//$fluff是&quot;lint&quot;</span><br><span class="hljs-variable">$sound</span> = substr(<span class="hljs-variable">$name</span>,<span class="hljs-number">11</span>);	<span class="hljs-comment">//$sound是&quot;tone&quot;</span><br></code></pre></td></tr></table></figure>
<ul>
<li>要知道一个小字符串在一个大字符串中出现的次数,可以使用 <code>substr_count()</code>函数:</li>
</ul>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs php"><span class="hljs-variable">$number</span> = substr_count(big_string,small_string);<br></code></pre></td></tr></table></figure>
<ul>
<li>例如:</li>
</ul>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs php"><span class="hljs-variable">$sketch</span> = <span class="hljs-string">&lt;&lt;&lt; End_of_Sketch</span><br><span class="hljs-string">Well,there&#x27;s egg and bacon;egg sausage and bacon;egg and spam;</span><br><span class="hljs-string">egg bacon and spam;egg bacon sausage and spam;dpam bacon sausage</span><br><span class="hljs-string">and spam;spam egg spam spam bacon and spam;spam sausage spam</span><br><span class="hljs-string">bacon spam tomato and spam;</span><br><span class="hljs-string">End_of_Sketch</span>;<br><span class="hljs-variable">$count</span> = substr_count(<span class="hljs-variable">$sketch</span>,<span class="hljs-string">&quot;spam&quot;</span>);<br><span class="hljs-keyword">print</span>(<span class="hljs-string">&quot;The word spam occurs <span class="hljs-subst">$count</span> times.&quot;</span>);<br><br>The word spam occurs <span class="hljs-number">14</span> times.<br></code></pre></td></tr></table></figure>
<ul>
<li><code>substr_replace()</code>函数允许使用不同方式对字符串进行修改:</li>
</ul>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs php"><span class="hljs-variable">$string</span> = substr_replace(original,<span class="hljs-keyword">new</span>,start[,length]);<br></code></pre></td></tr></table></figure>
<ul>
<li>函数通过start(0的意思是字符串的开头)和length指定的值,用字符串new替换original的一部分,如果没有给出第四个参数,<code>substr_replace()</code>删除从start到字符串末尾的文字</li>
</ul>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs php"><span class="hljs-variable">$greeting</span> = <span class="hljs-string">&quot;good morning citizen&quot;</span>;<br><span class="hljs-variable">$farewell</span> = substr_replace(<span class="hljs-variable">$greeting</span>,<span class="hljs-string">&quot;bye&quot;</span>,<span class="hljs-number">5</span>,<span class="hljs-number">7</span>);	<span class="hljs-comment">//$farewell为&quot;good bye citizen&quot;</span><br></code></pre></td></tr></table></figure>
<ul>
<li>设定length为0来实现无删除的插入:</li>
</ul>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs php"><span class="hljs-variable">$farewell</span> = substr_replace(<span class="hljs-variable">$greeting</span>,<span class="hljs-string">&quot;kind&quot;</span>,<span class="hljs-number">9</span>,<span class="hljs-number">0</span>);	<span class="hljs-comment">//$farewell为&quot;good bye kind citizen&quot;</span><br></code></pre></td></tr></table></figure>
<ul>
<li>设定new为&quot;&quot;来实现无插入的删除:</li>
</ul>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs php"><span class="hljs-variable">$farewell</span> = substr_replace(<span class="hljs-variable">$farewell</span>,<span class="hljs-string">&quot;&quot;</span>,<span class="hljs-number">8</span>);	<span class="hljs-comment">//$farewell为&quot;good bye&quot;</span><br></code></pre></td></tr></table></figure>
<ul>
<li>下面是说明如何在字符串的开头插入内容:</li>
</ul>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs php"><span class="hljs-variable">$farewell</span> = substr_replace(<span class="hljs-variable">$farewell</span>,<span class="hljs-string">&quot;now it&#x27;s time to say&quot;</span>,<span class="hljs-number">0</span>,<span class="hljs-number">0</span>);	<span class="hljs-comment">//$farewell为&quot;now it&#x27;s time to say good bye&quot;</span><br></code></pre></td></tr></table></figure>
<ul>
<li>如果start为负值,则指定从字符串末尾开始到字符串开头替换的字符数:</li>
</ul>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs php"><span class="hljs-variable">$farewell</span> = substr_replace(<span class="hljs-variable">$farewell</span>,<span class="hljs-string">&quot;riddance&quot;</span>,-<span class="hljs-number">3</span>);	<span class="hljs-comment">//$farewell为&quot;now it&#x27;s time to say good riddance&quot;</span><br></code></pre></td></tr></table></figure>
<ul>
<li>如果length为负值,则指定从字符串末尾开始删除的字符个数:</li>
</ul>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs php"><span class="hljs-variable">$farewell</span> = substr_replace(<span class="hljs-variable">$farewell</span>,<span class="hljs-string">&quot;&quot;</span>,-<span class="hljs-number">8</span>,-<span class="hljs-number">5</span>);	<span class="hljs-comment">//$farewell为&quot;now it&#x27;s time to say good dance&quot;</span><br></code></pre></td></tr></table></figure>
<h2 id="各种字符串函数">各种字符串函数</h2>
<ul>
<li><code>strrev()</code>函数接收一个字符串然后返回一个翻转顺序的拷贝:</li>
</ul>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs php"><span class="hljs-variable">$string</span> = strrev(<span class="hljs-keyword">string</span>);<br></code></pre></td></tr></table></figure>
<ul>
<li>例如:</li>
</ul>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs php"><span class="hljs-keyword">echo</span> strrev(<span class="hljs-string">&quot;There is no cabal&quot;</span>);<br><br>labac on si erehT<br></code></pre></td></tr></table></figure>
<ul>
<li><code>str_repeat()</code>函数接收一个字符串和一个计数参数,然后返回一个由参数<code>string</code>重复<code>count</code>次组成的新字符串:</li>
</ul>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs php"><span class="hljs-variable">$repeated</span> = str_repeat(<span class="hljs-keyword">string</span>,count);<br></code></pre></td></tr></table></figure>
<ul>
<li>例如,创建一个分割线:</li>
</ul>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs php"><span class="hljs-keyword">echo</span> str_repeat(<span class="hljs-string">&#x27;-&#x27;</span>,<span class="hljs-number">40</span>);<br></code></pre></td></tr></table></figure>
<ul>
<li><code>strpad()</code>函数用另一个字符串填充一个字符串,可以选择用什么样的字符串来填充,以及加在左边,右边或两边都加:</li>
</ul>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs php"><span class="hljs-variable">$padded</span> = str_pad(to_pad,length[,with[,pad_type]]);<br></code></pre></td></tr></table></figure>
<ul>
<li>默认是以空格加在字符串右边:</li>
</ul>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs php"><span class="hljs-variable">$string</span> = str_pad(<span class="hljs-string">&#x27;Fred Flintstone&#x27;</span>,<span class="hljs-number">30</span>);<br><span class="hljs-keyword">echo</span> <span class="hljs-string">&quot;<span class="hljs-subst">$string</span>:35:Wilma&quot;</span>;<br><br>Fred Flintstone                      :<span class="hljs-number">35</span>:Wilma<br></code></pre></td></tr></table></figure>
<ul>
<li>可选的第三个参数是要增加的字符串:</li>
</ul>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs php"><span class="hljs-variable">$string</span> = str_pad(<span class="hljs-string">&#x27;Fred Flintstone&#x27;</span>,<span class="hljs-number">30</span>,<span class="hljs-string">&#x27;. &#x27;</span>);<br><span class="hljs-keyword">echo</span> <span class="hljs-string">&quot;<span class="hljs-subst">&#123;$string&#125;</span>35&quot;</span>;<br><br>Fred Flintstone. . . . . . . . . . . :<span class="hljs-number">35</span><br></code></pre></td></tr></table></figure>
<ul>
<li>可选的第四个参数可以是STR_PAD_RIGHT(默认),STR_PAD_LEFT或STR_PAD_BOTH(左右都加,长度均分,使原字符串居中对齐),例如:</li>
</ul>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs php"><span class="hljs-keyword">echo</span> <span class="hljs-string">&#x27;[&#x27;</span> . strpad(<span class="hljs-string">&#x27;Fred Flintstone&#x27;</span>,<span class="hljs-number">30</span>,<span class="hljs-string">&#x27; &#x27;</span>,STR_PAD_LEFT) . <span class="hljs-string">&quot;]\n&quot;</span>;<br><span class="hljs-keyword">echo</span> <span class="hljs-string">&#x27;[&#x27;</span> . strpad(<span class="hljs-string">&#x27;Fred Flintstone&#x27;</span>,<span class="hljs-number">30</span>,<span class="hljs-string">&#x27; &#x27;</span>,STR_PAD_BOTH) . <span class="hljs-string">&quot;]\n&quot;</span>;<br><br>[               Fred Flintstone]<br>[         Fred Flintston       ]<br></code></pre></td></tr></table></figure>
<h2 id="分解字符串">分解字符串</h2>
<ul>
<li>PHP提供几个函数来将字符串分解为更小的部分,按复杂性递增排序,它们是<code>explode()</code>,<code>strtok()</code>和<code>sscanf()</code></li>
</ul>
<h3 id="分解和合并">分解和合并</h3>
<ul>
<li>数据常常以字符串的形式出现,同时必须要分解成一组值,例如,你可能想要在字符串中拆分以逗号分隔的字段,例如&quot;Fred,25,Wilma&quot;,在这些情况下,可以使用<code>explode()</code>函数:</li>
</ul>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs php"><span class="hljs-variable">$array</span> = explode(separator,<span class="hljs-keyword">string</span>[,limit]);<br></code></pre></td></tr></table></figure>
<ul>
<li>第一个参数<code>separator</code>是包含字段分隔符的字符串第二个参数string是要拆分的字符串,可选的第三个参数<code>limit</code>是要返回数组中值的最大数目,如果达到上限的话,数组的最后一个元素会包含字符串剩余的部分:</li>
</ul>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs php"><span class="hljs-variable">$input</span> = <span class="hljs-string">&#x27;Pred,25,Wilma&#x27;</span>;<br><span class="hljs-variable">$fields</span> = explode(<span class="hljs-string">&#x27;,&#x27;</span>,<span class="hljs-variable">$input</span>);	<span class="hljs-comment">//$fields为array(&#x27;Fred&#x27;,&#x27;25&#x27;,&#x27;Wilma&#x27;)</span><br><span class="hljs-variable">$fields</span> = explore(<span class="hljs-string">&#x27;,&#x27;</span>,<span class="hljs-variable">$input</span>,<span class="hljs-number">2</span>);	<span class="hljs-comment">//$fields为array(&#x27;Fred&#x27;,&#x27;25,Wilma&#x27;)</span><br></code></pre></td></tr></table></figure>
<ul>
<li><code>implode()</code>函数正好和<code>explore()</code>相反–它用含有几个较小字符串的数组创建一个大字符串:</li>
</ul>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs php"><span class="hljs-variable">$string</span> = implode(separator,<span class="hljs-keyword">array</span>);<br></code></pre></td></tr></table></figure>
<ul>
<li>第一个参数<code>separator</code>是要放在第二个参数<code>array</code>元素间的字符串,要重建这个以逗号分隔的字符串,只需这样做:</li>
</ul>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs php"><span class="hljs-variable">$fields</span> = <span class="hljs-keyword">array</span>(<span class="hljs-string">&#x27;Fred&#x27;</span>,<span class="hljs-string">&#x27;25&#x27;</span>,<span class="hljs-string">&#x27;Wilma&#x27;</span>);<br><span class="hljs-variable">$string</span> = implode(<span class="hljs-string">&#x27;,&#x27;</span>,<span class="hljs-variable">$fields</span>);		<span class="hljs-comment">//$string是&#x27;Fred,25,Wilma&#x27;</span><br></code></pre></td></tr></table></figure>
<ul>
<li><code>join()</code>函数是<code>implode()</code>的别名函数</li>
</ul>
<h3 id="Tokenizing标记">Tokenizing标记</h3>
<ul>
<li><code>strtok()</code>函数可用于遍历一个字符串,每次得到一个新的字符串块(标记,token),第一次调用<code>strtok()</code>的时候,需要传递两个参数:要遍历的字符串和标记分隔符:</li>
</ul>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs php"><span class="hljs-variable">$first_chunk</span> = strtok(<span class="hljs-keyword">string</span>,separator);<br></code></pre></td></tr></table></figure>
<ul>
<li>要得到剩下的标记,重复调用仅带有分隔符的<code>strtok()</code>:</li>
</ul>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs php"><span class="hljs-variable">$next_chunk</span> = strtok(separator);<br></code></pre></td></tr></table></figure>
<ul>
<li>例如,可以这样调用:</li>
</ul>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs php"><span class="hljs-variable">$string</span> = <span class="hljs-string">&quot;Fred,Flintstone,35,Wilma&quot;</span>;<br><span class="hljs-variable">$token</span> = strtok(<span class="hljs-variable">$string</span>,<span class="hljs-string">&quot;,&quot;</span>);<br><span class="hljs-keyword">while</span>(<span class="hljs-variable">$token</span> != <span class="hljs-literal">false</span>)&#123;<br>    <span class="hljs-keyword">echo</span>(<span class="hljs-string">&quot;<span class="hljs-subst">$token</span>&lt;br&gt;&quot;</span>);<br>    <span class="hljs-variable">$token</span> = strtok(<span class="hljs-string">&quot;,&quot;</span>);<br>&#125;<br><br>Fred<br>Flintstone<br><span class="hljs-number">35</span><br>Wilma<br></code></pre></td></tr></table></figure>
<ul>
<li>当没有任何标记可以返回时,<code>strtok()</code>函数返回false</li>
<li>如果再次调用<code>strtok()</code>时带有两个参数,就会重新初始化迭代器,这样就可以从字符串的开头重新开始获取子字符串</li>
</ul>
<h3 id="sscanf">sscanf()</h3>
<ul>
<li><code>sscant()</code>函数依照和<code>printf()</code>相似的模板来分解一个字符串:</li>
</ul>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs php"><span class="hljs-variable">$array</span> = sscanf(<span class="hljs-keyword">string</span>,template);<br><span class="hljs-variable">$count</span> = sscanf(<span class="hljs-keyword">string</span>,template,var1,...);<br></code></pre></td></tr></table></figure>
<ul>
<li>如果没有使用可选变量的话,<code>sscanf()</code>返回一个字段数组:</li>
</ul>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs php"><span class="hljs-variable">$string</span> = <span class="hljs-string">&quot;Fred\tFlintstone(35)&quot;</span>;<br><span class="hljs-variable">$a</span> = sscanf(<span class="hljs-variable">$string</span>,<span class="hljs-string">&quot;%s\t%s(%d)&quot;</span>);<br>print_r(<span class="hljs-variable">$a</span>);<span class="hljs-keyword">Array</span><br>    (<br>    [<span class="hljs-number">0</span>] =&gt; Fred<br>    [<span class="hljs-number">1</span>] =&gt; Flintstone<br>    [<span class="hljs-number">2</span>] =&gt; <span class="hljs-number">35</span><br>)<br></code></pre></td></tr></table></figure>
<ul>
<li>传递引用给变量,可以将字段存放在这些变量总中,将返回字符的个数:</li>
</ul>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs php"><span class="hljs-variable">$string</span> = <span class="hljs-string">&quot;Fred\tFlintstone(35)&quot;</span>;<br><span class="hljs-variable">$n</span> = sscanf(<span class="hljs-variable">$string</span>,<span class="hljs-string">&quot;%s\t%s(%d)&quot;</span>,&amp;<span class="hljs-variable">$first</span>,&amp;<span class="hljs-variable">$last</span>,&amp;<span class="hljs-variable">$age</span>);<br><span class="hljs-keyword">echo</span> <span class="hljs-string">&quot;Matched <span class="hljs-subst">$n</span> fields: <span class="hljs-subst">$first</span> <span class="hljs-subst">$last</span> is <span class="hljs-subst">$age</span> years old&quot;</span>;<br><br>Matched <span class="hljs-number">3</span> fields: Fred Flintstone is <span class="hljs-number">35</span> years old<br></code></pre></td></tr></table></figure>
<h2 id="字符串查找函数">字符串查找函数</h2>
<ul>
<li>有一些函数用于在一个较大字符串中查找字符串或字符,它们分为3个系列:<code>strpos()</code>和<code>strrpos()</code>返回一个位置,<code>strstr()</code>,<code>strchr()</code>等返回找到的字符串,<code>strspn()</code>和<code>strcspn()</code>返回字符串的开头有多少与掩码匹配</li>
<li>字符的ASCII顺序值来查找,因此,下面的函数调用是相等的(因为44是逗号的ASCII值):</li>
</ul>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs php"><span class="hljs-variable">$pos</span> = strpos(<span class="hljs-variable">$large</span>,<span class="hljs-string">&quot;,&quot;</span>)	<span class="hljs-comment">//查找第一个逗号</span><br><span class="hljs-variable">$pos</span> = strpos(<span class="hljs-variable">$large</span>,<span class="hljs-string">&quot;,&quot;</span>)	<span class="hljs-comment">//也查找第一个逗号</span><br></code></pre></td></tr></table></figure>
<ul>
<li>如果没有找到指定的子串,所有的字符串查找函数都会返回flase,如果子串出现在字符串的开头,函数就返回0,因为false可以转换为数字0,所以在测试失败时使用===来比较返回值:</li>
</ul>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs php"><span class="hljs-keyword">if</span>(<span class="hljs-variable">$pos</span> == <span class="hljs-literal">false</span>)&#123;<br>    <span class="hljs-comment">//没有找到子串</span><br>&#125;<span class="hljs-keyword">else</span>&#123;<br>    <span class="hljs-comment">//找到子串,$pos是字符串的偏移量</span><br>&#125;<br></code></pre></td></tr></table></figure>
<h3 id="返回位置的查找">返回位置的查找</h3>
<ul>
<li><code>strpos()</code>函数查找一个小字符串在较大字符串中第一次出现的位置:</li>
</ul>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs php"><span class="hljs-variable">$positon</span> = strpos(large_string,small_string);<br></code></pre></td></tr></table></figure>
<ul>
<li>如果没有找到小字符串,<code>strpos()</code>返回false</li>
<li><code>strrpos()</code>函数查找某个字符(注意是单个字符而不是字符串)在字符串中最后一次出现的位置,它的参数及返回值类型和<code>strpos()</code>相同</li>
<li>例如:</li>
</ul>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs php"><span class="hljs-variable">$record</span>() = <span class="hljs-string">&quot;Fred,Flintstone,35,Wilma&quot;</span>;<br><span class="hljs-variable">$pos</span> = strrpos(<span class="hljs-variable">$record</span>,<span class="hljs-string">&quot;,&quot;</span>);<span class="hljs-comment">//查找最后一个逗号</span><br><span class="hljs-keyword">echo</span> (<span class="hljs-string">&quot;The last comma in the record is at position <span class="hljs-subst">$pos</span>&quot;</span>);<br><br>The last comma in the record is at position <span class="hljs-number">18</span><br></code></pre></td></tr></table></figure>
<ul>
<li>如果将一个字符串作为第二个参数传递给<code>strrpos()</code>,只查找参数字符串的首字符</li>
<li>那么如何查找一个字符串的最后出现位置呢? 请看下面的例子,先将字符串进行翻转并使用<code>strpos()</code>:</li>
</ul>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs php"><span class="hljs-variable">$long</span> = <span class="hljs-string">&quot;Today is the we go on holiday to Flirida&quot;</span>;<br><span class="hljs-variable">$to_find</span> = <span class="hljs-string">&quot;day&quot;</span>;<br><span class="hljs-variable">$pos</span> = strpos(strrev(<span class="hljs-variable">$long</span>),strrev(<span class="hljs-variable">$to_find</span>));<br><span class="hljs-keyword">if</span>(<span class="hljs-variable">$pos</span> === <span class="hljs-literal">false</span>)&#123;<br>    <span class="hljs-keyword">echo</span>(<span class="hljs-string">&quot;Not found&quot;</span>);<br>&#125;<span class="hljs-keyword">else</span>&#123;<br>    <span class="hljs-comment">//$pos是在反转字符串的中的位置</span><br>    <span class="hljs-comment">//准换为正常的字符串中的位置</span><br>    <span class="hljs-variable">$pos</span> = strlen(<span class="hljs-variable">$long</span>) - <span class="hljs-variable">$pos</span> - strlen(<span class="hljs-variable">$to_find</span>);<br>    <span class="hljs-keyword">echo</span> (<span class="hljs-string">&quot;Last occurrence starts at position <span class="hljs-subst">$pos</span>&quot;</span>);<br>&#125;<br><br>Last occurrence starts at position <span class="hljs-number">30</span><br></code></pre></td></tr></table></figure>
<h3 id="返回剩余字符串的查找">返回剩余字符串的查找</h3>
<ul>
<li><code>strstr()</code>函数查找一个小字符串一个小字符串在大字符串中第一次出现的位置,并返回从小字符串开始的部分,例如:</li>
</ul>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs php"><span class="hljs-variable">$record</span> = <span class="hljs-string">&quot;Fred,Flintstone,35,Wilma&quot;</span>;<br><span class="hljs-variable">$rest</span> = strstr(<span class="hljs-variable">$record</span>,<span class="hljs-string">&quot;,&quot;</span>);	<span class="hljs-comment">//$rest为:&quot;,Flintstone,35,Wilma&quot;</span><br></code></pre></td></tr></table></figure>
<ul>
<li><code>strstr()</code>的变种有:</li>
</ul>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs php">stristr()<br></code></pre></td></tr></table></figure>
<ul>
<li>不区分大小写的<code>strstr()</code></li>
</ul>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs php">strchr()<br></code></pre></td></tr></table></figure>
<ul>
<li><code>strstr()</code>的别名</li>
</ul>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs php">strrchr()<br></code></pre></td></tr></table></figure>
<ul>
<li>查找字符在字符串中最后出现的位置</li>
<li>和<code>strrpos()</code>一样,<code>strrchr()</code>从后查找字符串,但是都只对字符,而不是一整个字符串</li>
</ul>
<h3 id="使用掩码查找">使用掩码查找</h3>
<ul>
<li>如果认为<code>strrchr()</code>深奥,那么你还没有真正理解它,<code>strspn()</code>和<code>strcspn()</code>函数告诉你字符串开头有多少个指定的字符:</li>
</ul>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs php"><span class="hljs-variable">$length</span> = strspn(<span class="hljs-keyword">string</span>,charset);<br></code></pre></td></tr></table></figure>
<ul>
<li>例如,下面的函数测试一个字符串是否包含一个八进制数字:</li>
</ul>
<blockquote>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs php"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">is_octal</span>(<span class="hljs-params"><span class="hljs-variable">$str</span></span>)</span>&#123;<br>    <span class="hljs-keyword">return</span> strspn(<span class="hljs-variable">$str</span>,<span class="hljs-string">&#x27;01234567&#x27;</span>) == strlen(<span class="hljs-variable">$str</span>);<br>&#125;<br></code></pre></td></tr></table></figure>
</blockquote>
<ul>
<li><code>strcspn()</code>里的c代表complement(补足物),它说明字符串的开头有多少不是由字符集中的字符组成,当感兴趣的字符比不感兴趣的字符多时,使用<code>strcspn()</code>,例如,下面的函数测试一个字符串中是否有任何空字符,制表符或回车:</li>
</ul>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs php"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">has_bad_chars</span>(<span class="hljs-params"><span class="hljs-variable">$str</span></span>)</span>&#123;<br>    <span class="hljs-keyword">return</span> strcspn(<span class="hljs-variable">$str</span>,<span class="hljs-string">&quot;\n\t\0&quot;</span>) == strlen(<span class="hljs-variable">$str</span>);<br>&#125;<br></code></pre></td></tr></table></figure>
<ul>
<li>分解URL</li>
<li><code>parse_url()</code>函数返回一个由URL成分组成的数组:</li>
</ul>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs php"><span class="hljs-variable">$array</span> = parse_url(url);<br></code></pre></td></tr></table></figure>
<ul>
<li>例如:</li>
</ul>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs php"><span class="hljs-variable">$bits</span> = parse_url(<span class="hljs-string">&#x27;http://me:secret@example.com/cgi-bin/board?user=fred&#x27;</span>);<br>print_r(<span class="hljs-variable">$bits</span>);<br><span class="hljs-keyword">Array</span><br>    (<br>    [scheme] =&gt; http<br>    [host] =&gt; example.com<br>    [user] =&gt;me<br>    [pass] =&gt; /cgi-bin/board<br>    [query] =&gt; user=fred<br>)<br></code></pre></td></tr></table></figure>
<ul>
<li>得到的数组键名可能为scheme,host,port,user,path,query和fragment</li>
</ul>

            </div>
            <hr>
            <div>
              <div class="post-metas mb-3">
                
                
              </div>
              
                <p class="note note-warning">
                  
                    本博客所有文章除特别声明外，均采用 <a target="_blank" href="https://creativecommons.org/licenses/by-sa/4.0/deed.zh" rel="nofollow noopener noopener">CC BY-SA 4.0 协议</a> ，转载请注明出处！
                  
                </p>
              
              
                <div class="post-prevnext">
                  <article class="post-prev col-6">
                    
                    
                      <a href="/Software/Language/PHP/%E5%AD%97%E7%AC%A6%E4%B8%B2/%E5%BC%95%E7%94%A8%E5%AD%97%E7%AC%A6%E4%B8%B2%E5%B8%B8%E9%87%8F/">
                        <i class="iconfont icon-arrowleft"></i>
                        <span class="hidden-mobile"></span>
                        <span class="visible-mobile">上一篇</span>
                      </a>
                    
                  </article>
                  <article class="post-next col-6">
                    
                    
                      <a href="/Software/Language/PHP/%E5%AD%97%E7%AC%A6%E4%B8%B2/%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F/">
                        <span class="hidden-mobile"></span>
                        <span class="visible-mobile">下一篇</span>
                        <i class="iconfont icon-arrowright"></i>
                      </a>
                    
                  </article>
                </div>
              
            </div>

            
              <!-- Comments -->
              <article class="comments" id="comments" lazyload>
                
                  
                
                

              </article>
            
          </article>
        </div>
      </div>
    </div>
    
      <div class="d-none d-lg-block col-lg-2 toc-container" id="toc-ctn">
        <div id="toc">
  <p class="toc-header"><i class="iconfont icon-list"></i>&nbsp;目录</p>
  <div class="toc-body" id="toc-body"></div>
</div>

      </div>
    
  </div>
</div>

<!-- Custom -->


    

    
      <a id="scroll-top-button" aria-label="TOP" href="#" role="button">
        <i class="iconfont icon-arrowup" aria-hidden="true"></i>
      </a>
    

    
      <div class="modal fade" id="modalSearch" tabindex="-1" role="dialog" aria-labelledby="ModalLabel"
     aria-hidden="true">
  <div class="modal-dialog modal-dialog-scrollable modal-lg" role="document">
    <div class="modal-content">
      <div class="modal-header text-center">
        <h4 class="modal-title w-100 font-weight-bold">搜索</h4>
        <button type="button" id="local-search-close" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body mx-3">
        <div class="md-form mb-5">
          <input type="text" id="local-search-input" class="form-control validate">
          <label data-error="x" data-success="v"
                 for="local-search-input">关键词</label>
        </div>
        <div class="list-group" id="local-search-result"></div>
      </div>
    </div>
  </div>
</div>
    

    
  </main>

  <footer class="text-center mt-5 py-3">
  <div class="footer-content">
    
  </div>
  

  

  
</footer>


  <!-- SCRIPTS -->
  
  <script  src="https://cdn.jsdelivr.net/npm/nprogress@0/nprogress.min.js" ></script>
  <link  rel="stylesheet" href="https://cdn.jsdelivr.net/npm/nprogress@0/nprogress.min.css" />

  <script>
    NProgress.configure({"showSpinner":false,"trickleSpeed":100})
    NProgress.start()
    window.addEventListener('load', function() {
      NProgress.done();
    })
  </script>


<script  src="https://cdn.jsdelivr.net/npm/jquery@3/dist/jquery.min.js" ></script>
<script  src="https://cdn.jsdelivr.net/npm/bootstrap@4/dist/js/bootstrap.min.js" ></script>
<script  src="https://cdn.jsdelivr.net/gh/LuShan123888/SoftwareMagic@gh-pages/js/events.js" ></script>
<script  src="https://cdn.jsdelivr.net/gh/LuShan123888/SoftwareMagic@gh-pages/js/plugins.js" ></script>

<!-- Plugins -->


  <script  src="https://cdn.jsdelivr.net/gh/LuShan123888/SoftwareMagic@gh-pages/js/local-search.js" ></script>



  
    <script  src="https://cdn.jsdelivr.net/gh/LuShan123888/SoftwareMagic@gh-pages/js/img-lazyload.js" ></script>
  



  



  
    <script  src="https://cdn.jsdelivr.net/npm/tocbot@4/dist/tocbot.min.js" ></script>
  
  
    <script  src="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@3/dist/jquery.fancybox.min.js" ></script>
  
  
    <script  src="https://cdn.jsdelivr.net/npm/anchor-js@4/anchor.min.js" ></script>
  
  
    <script defer src="https://cdn.jsdelivr.net/npm/clipboard@2/dist/clipboard.min.js" ></script>
  






  <script  src="https://cdn.jsdelivr.net/npm/typed.js@2/lib/typed.min.js" ></script>
  <script>
    (function (window, document) {
      var typing = Fluid.plugins.typing;
      var title = document.getElementById('subtitle').title;
      
      typing(title)
      
    })(window, document);
  </script>









  <script  src="https://cdn.jsdelivr.net/npm/mermaid@8/dist/mermaid.min.js" ></script>
  <script>
    if (window.mermaid) {
      mermaid.initialize({"theme":"default"});
    }
  </script>







<!-- 主题的启动项 保持在最底部 -->
<script  src="https://cdn.jsdelivr.net/gh/LuShan123888/SoftwareMagic@gh-pages/js/boot.js" ></script>


</body>
</html>
