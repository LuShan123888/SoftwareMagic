---
title: Vim 初始化
categories:
- Software
- Tools
- Vim
---
# Vim 初始化

## 安装

```shell
sudo apt-get install vim
# OR
sudo yum install vim
```

## 配置文件

- `~/.vimrc`

```
"Setting
"vimrc编辑后自动生效,避免重启
autocmd! bufwritepost .vimrc source ~/.vimrc
"设置字体
set guifont=JetBrainsMono-Regular:h13
" 设置vi与vim兼容
set nocompatible
" 设置使vim识别不同的文件格式
filetype indent on
filetype plugin on
filetype plugin indent on
" 设置使vim能用鼠标操作.  
set mouse=a
" 设置字符编码
set encoding=utf-8
set fileencodings=ucs-bom,utf-8,chinese,gb18030,gbk,gb2312,cp936,prc,taiwan,latin-1
" 使配色更加兼容你的终端
let &t_ut=''
" 设置缩进距离
set expandtab
set tabstop=2
set shiftwidth=2
set softtabstop=2
" 设置空格的显示
set list
set listchars=tab:▸\ ,trail:▫
set tw=0
set indentexpr=
" 退格键到行首后自动跳转到上行行尾
set backspace=indent,eol,start
" 收起代码
set foldmethod=indent
set foldlevel=99
" 设置终端的光标在不同模式下用不同的样式,实测Konsole可用
let &t_SI = "\<Esc>]50;CursorShape=1\x7"
let &t_SR = "\<Esc>]50;CursorShape=2\x7"
let &t_EI = "\<Esc>]50;CursorShape=0\x7"
" 状态栏行数
set laststatus=2
" vim执行的外部命令会在当前目录下执行
set autochdir
" 关闭文件又打开光标会自动回到关闭前的位置
au BufReadPost * if line("'\"") > 1 && line("'\"") <= line("$") | exe "normal! g'\"" | endif
" 设置leader键为空格
let mapleader=" "
" 代码高亮
syntax on
" 设置行号
set number
" 设置相对的行号
set relativenumber
" 设置光标线
set cursorline
" 自动换行
set wrap
" 显示命令
set showcmd
" tab多选项菜单
set wildmenu
" 设置搜索关键词高亮
set hlsearch
exec "nohlsearch"
" 设置搜索输入时高亮
set incsearch
" 搜索时忽略大小写
set ignorecase
" 只能搜索忽略大小写
set smartcase
"同步系统剪贴板
set clipboard=unnamed
"滚动锁定显示
set scrolloff=5
"----------------------------------------------------------------------------
"Hotkey
" 搜索跳转结果改为=/-并且使搜索结果在屏幕中间
noremap = nzz
noremap - Nzz
" 大写光标移动按键多次执行
noremap J 7j
noremap K 7k
noremap H 5h
noremap L 5l
"大写Y从当前位置复制到本行的最后
noremap Y y$
" 设置取消高亮
noremap <LEADER><CR> :nohlsearch<CR>
" 设置光标回到行首
noremap <C-h> 0
" 设置光标回到行尾
noremap <C-l> $
" 取消s删除字符的功能
map s <nop>
" 快速保存
map S :w<CR>
" 按大写Q直接退出
map Q :q<CR>
" R快速source vimrc
map R :source ~/.vim/vimrc<CR>

"分屏操作
"向右分屏
map sl :set splitright<CR>:vsplit<CR>
"向左分屏
map sj :set nosplitright<CR>:vsplit<CR>
"向上分屏
map si :set nosplitbelow<CR>:split<CR>
"向下分屏
map sk :set splitbelow<CR>:split<CR>
"光标移动至左分屏
map <LEADER>j <C-W>h
"光标移动至右分屏
map <LEADER>l <C-W>l
"光标移动至下分屏
map <LEADER>k <C-W>j
"光标移动至上分屏
map <LEADER>i <C-W>k
"增加纵向分屏大小
map <up> :res +5<CR>
"减少纵向分屏大小
map <down> :res -5<CR>
"减少横向分屏大小
map <left> :vertical resize-5<CR>
"增加横横分屏大小
map <right> :vertical resize+5<CR>
"将分屏设置为横向分屏
map sv <C-w>t<C-w>H
"将分屏设置为纵向分屏
map sh <C-w>t<C-w>K

"标签
"打开新标签
map ti :tabe<CR>
" 跳转至上一个标签
map tj :-tabnext<CR>
" 跳转至下一个标签
map tk :+tabnext<CR>
" 关闭当前标签
map tk :tabclose<CR>

"Find duplicate words
map <LEADER>fd /\(\<\w\+\>\)\_s*\1
"语法检测与选择补全
map <LEADER>sc :set spell!<CR>
noremap <C-x> ea<C-x>s
inoremap <C-x> <Esc>ea<C-x>s
"占位符替换<++>
map <LEADER><LEADER> <Esc>/<++><CR>:nohlsearch<CR>c4l
"符号转换为图像
map tx :r !figlet
```

