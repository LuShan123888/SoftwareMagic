---
title: Linux 进程与服务
categories:
- Software
- System
- Linux
---
# Linux 进程与服务

## 基本概念

- 在Linux中,每一个程序都是有自己的一个进程,每一个进程都有一个id号
- 每一个进程都会有一个父进程
- 进程可以有两种存在方式
    - 前台运行
    - 后台运行
- 一般的话服务都是后台运行的,基本的程序都是前台运行的

## 进程

### ps

```shell
ps #查看当前系统中正在执行的各种进程的信息!

-a 显示当前终端运行的所有的进程信息(当前的进程一个)
-u 以用户的信息显示进程
-x 显示后台运行进程的参数

ps -aux 查看所有的进程
ps -aux|grep 进程名字 #过滤进程信息


ps -ef #可以查看到父进程的信息
ps -ef|grep mysql # 看父进程我们一般可以通过目录树结构来查看
```

- `|` 在Linux这个叫做管道符 `A | B`: A的输出是B的输入
- grep 查找文件中符合条件的字符串

### pstree

```shell
pstree -pu # 进程树

-p 显示父id
-u 显示用户组
```

### kill

```shell
kill -9 pid #终止进程
```

### nohup

```
nohup Command [ Arg ... ] [　& ]
nohup nohup /root/test.sh &
```

- Command:要执行的命令
- Arg:一些参数,可以指定输出文件
- &:让命令在后台执行,终端退出后命令仍旧执行

## 服务

### service

- 通过脚本管理程序的状态

```
service <command> <service>
```

- **command**:stop,start,reload,restart,force-reload
- **service**:服务名, `/etc/init.d/`或`/etc/inid/`目录下的脚本

### systemctl

- systemctl命令兼容了service,即systemctl也会去`/etc/init.d`目录下,查看,执行相关程序
- systemctl命令管理systemd的资源Unit
    - systemd的Unit放在目录/usr/lib/systemd/system(Centos)或/etc/systemd/system(Ubuntu)

```shell
systemctl redis start
systemctl redis stop
# 开机自启动
systemctl enable redis
```