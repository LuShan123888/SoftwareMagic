---
title: Java 文件与目录管理
categories:
- Software
- Backend
- Java
- JavaSE
- 流式输入输出与文件处理
---
# Java 文件与目录管理

- 获得文件的信息或进行文件的复制,删除,重命名等操作,需要使用File类的方法

## 创建File对象

File类的构造方法有多种形态

- `File(String path)`:path指定文件路径及文件名,它可以是绝对路径,也可以是相对路径,绝对路径的格式为"盘符:目录路径/文件名”,相对路径是指程序运行的当前盘,当前目录路径,例如:

```java
File myFIle = new File("ect/motd");//指当前路径的etc子目录下的文件motd
```

- `File(String path,String name)`:两个参数分别提供路径和文件名,例如:

```java
myFile = new File("/etc","motd");
```

- `File(File dir,String name)`:利用已存在 的File对象的路径定义新文件的路径,第2个参数为文件名

值得一提的是,不同平台下路径分隔符可能不一样,如果应用程序要考虑跨平台的情形,可以使用`System.dirSep`这个静态属性来给出分隔符

读取文件内容,需要用到`FileInputStream`,可根据文件名创建`FileInputStream`对象,也可根据`File`对象创建`FileInputStream`对象,例如:

```java
File myFile = new File("/ect/motd");
FileInputStream in = new FileInputStream(myFile);
```

## 获取文件或目录属性

借助File对象,可以获取文件和相关目录的属性信息,以下为常用的方法

- `String getName()`:返回文件名
- `String getPath()`:返回文件或目录路径
- `String getAbsolutePath()`:返回绝对路径
- `String getParent()`:获取文件所在目录的父目录
- `boolean exists()`:文件是否存在
- `boolean canWrite()`:文件是否可写
- `boolean canWrite()`:文件是否可写
- `boolean isFile()`:是否为一个正确定义的文件
- `boolean isDirectory()`:是否为目录
- `long lastModified()`:求文件的最后修改日期
- `long length()`:求文件长度

## 文件或目录操作

借助File对象,可实现对文件和目录的增,删,改,查,以下为常用方法

- `boolean mkdir()`:创建当前目录的子目录
- `String[] list()`:列出目录中的文件
- `File[] listFiles()`:得到目录下的文件列表
- `boolean renameTo(File newFile)`:将文件改名为新文件名
- `boolean delete()`:删除文件
- `boolean equals(File f)`:比较两个文件或目录是否相等

**[例113-7]**显示若干文件的基本信息,文件名通过命令行参数提供

```java
import java.io.File;
public class 显示文件的信息 {
    public static void main(String[] args) {
        for (int i =0;i<args.length;i++)
            info(new File(args[i]));//调用方法输出指定文件信息
    }

    public static void info(File f){
        System.out.println("Name:"+f.getName());
        System.out.println("Path:"+f.getPath());
        System.out.println("Absolute Path:"+f.getAbsolutePath());
        if (f.exists()){
            System.out.println("File is Readable:"+f.canRead());
            System.out.println("File is Writeable:"+f.canWrite());
            System.out.println("File is "+f.length()+"bytes");
        }else {
            System.out.println("File does not exist");
        }
    }
}

Name:显示文件的信息.java
    Path:src/Study/流式输入输出与文件处理/文件与目录管理/显示文件的信息.java
        Absolute Path:/Users/lucian/Documents/Code/Java/src/Study/流式输入输出与文件处理/文件与目录管理/显示文件的信息.java
            File is Readable:true
                File is Writeable:true
                    File is 809bytes
```

**说明**:第8\~19行定义了`indo()`方法显示指定文件的信息,第4,5行通过循环并调用`info()`方法将所有命令行参数指定文件的信息显示出来