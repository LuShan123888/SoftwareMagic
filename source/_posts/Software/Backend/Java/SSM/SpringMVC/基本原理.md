---
title: Spring MVC 基本原理
categories:
- Software
- Backend
- Java
- SSM
- SpringMVC
---
# Spring MVC 基本原理

## 概述

- Spring MVC是Spring Framework的一部分,是基于Java实现MVC的轻量级Web框架
- 查看官方文档:https://docs.spring.io/spring/docs/5.2.0.RELEASE/spring-framework-reference/web.html#spring-web

## DispatcherServlet

- Spring的web框架围绕DispatcherServlet设计,DispatcherServlet的作用是将请求分发到不同的处理器,从Spring 2.5开始,使用Java 5或者以上版本的用户可以采用基于注解的controller声明方式
- Spring MVC框架像许多其他MVC框架一样, **以请求为驱动** , **围绕一个中心Servlet分派请求及提供其他功能**,**DispatcherServlet是一个实际的Servlet (它继承自HttpServlet 基类)**

![img](https://cdn.jsdelivr.net/gh/LuShan123888/Files@master/Pictures/2020-12-10-640-0819307.png)

## Spring MVC执行原理

![img](https://cdn.jsdelivr.net/gh/LuShan123888/Files@master/Pictures/2020-12-10-640-20200923080317494.png)

- 图为Spring MVC的一个较完整的流程图,实线表示Spring MVC框架提供的技术,不需要开发者实现,虚线表示需要开发者实现

**简要分析执行流程**

1. - `DispatcherServlet`表示前置控制器,是整个Spring MVC的控制中心,用户发出请求,`DispatcherServlet`接收请求并拦截请求
    - 我们假设请求的url为 : http://localhost:8080/Spring MVC/hello
    - **如上url拆分成三部分**:
        - http://localhost:8080服务器域名
        - Spring MVC部署在服务器上的web站点
        - hello表示控制器
    - 通过分析,如上url表示为:请求位于服务器localhost:8080上的Spring MVC站点的hello控制器
2. `HandlerMapping`为处理器映射,`DispatcherServlet`调用`HandlerMapping`,`HandlerMapping`根据请求url查找`Handler`
3. `HandlerExecution`表示具体的Handler,其主要作用是根据url查找控制器,如上url被查找控制器为:hello
4. `HandlerExecution`将解析后的信息传递给`DispatcherServlet`,如解析控制器映射等
5. `HandlerAdapter`表示处理器适配器,其按照特定的规则去执行`Handler`
6. `Handler`让具体的`Controller`执行
7. `Controller`将具体的执行信息返回给`HandlerAdapter`,如`ModelAndView`
8. `HandlerAdapter`将视图逻辑名或模型传递给`DispatcherServlet`
9. `DispatcherServlet`调用`ViewResolver`来解析`HandlerAdapter`传递的逻辑视图名
10. `ViewResolver`将解析的逻辑视图名传给`DispatcherServlet`
11. `DispatcherServlet`根据视图解析器解析的视图结果,调用具体的视图
12. 最终视图呈现给用户